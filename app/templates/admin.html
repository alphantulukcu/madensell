{% extends "base_admin.html" %}

{% block title %}
Admin Page
{% endblock %}

{% block content %}
<div class="container">
    <h1 style="color: #E0E0E0; font-size: 2.5rem; font-weight: bold; margin-bottom: 20px;">Welcome to the Admin Page</h1> <!-- Updated style for title -->

    <select id="table-select" class="form-select" style="margin-bottom: 20px;">
        <option selected>Select a Table</option>
        {% for table in tables %}
        <option value="{{ table }}">{{ table }}</option>
        {% endfor %}
    </select>

    <div id="table-data" style="color: #E0E0E0; margin-top: 20px;">
        <!-- Table data will be loaded here -->
    </div>
</div>

<style>
    /* Additional CSS for table and title styling */
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd; /* Light grey line for separation */
    }
    th {
        background-color: #555; /* Darker shade for headers */
        color: white; /* White text for headers */
    }
</style>

<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script>
    $(document).ready(function() {
        $('#table-select').on('change', function() {
            var selectedTable = $(this). val();
            if (selectedTable) {
                $.ajax({
                    url: '/get_table_data', // Route in app.py
                    type: 'POST',
                    data: { table_name: selectedTable },
                    success: function(response) {
                        $('#table-data').html(response);
                        // Apply styles directly to the table when the data is loaded
                        $('#table-data table').css('color', '#E0E0E0'); // Light grey font for data
                    }
                });
            } else {
                $('#table-data').html('Please select a table.');
            }
        });
    });
</script>
{% endblock %}
